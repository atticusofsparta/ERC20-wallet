{"ast":null,"code":"import _regeneratorRuntime from\"/home/dev/Documents/GitHub/ERC20-wallet/app/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/dev/Documents/GitHub/ERC20-wallet/app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/dev/Documents/GitHub/ERC20-wallet/app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState}from\"react\";import{ethers}from'ethers';import Card from'../Card';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var OnboardingModal=function OnboardingModal(_ref){var onboarded=_ref.onboarded,setOnboarded=_ref.setOnboarded;var _useState=useState(\"onboard\"),_useState2=_slicedToArray(_useState,2),modalPage=_useState2[0],setModalPage=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),wallet=_useState6[0],setWallet=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),mnemonic=_useState8[0],setMnemonic=_useState8[1];var Onboard=function Onboard(_ref2){var modalPage=_ref2.modalPage,setModalPage=_ref2.setModalPage;return/*#__PURE__*/_jsx(\"div\",{className:\"modalBackground\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"modalHeader\",children:\"Welcome to the super-awesome-powerful wallet manager!\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"modalBody\",children:[\"First, set a password!\",/*#__PURE__*/_jsx(\"button\",{className:\"btn-big\",onClick:function onClick(){setModalPage(\"password\");},children:\"Create password\"})]})]})});};var SetPassword=function SetPassword(_ref3){var modalPage=_ref3.modalPage,setModalPage=_ref3.setModalPage,password=_ref3.password,setPassword=_ref3.setPassword;return/*#__PURE__*/_jsx(\"div\",{className:\"modalBackground\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"modalHeader\",children:\"Create a password\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"modalBody\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"modal-input\",type:\"text\",value:password,onChange:function onChange(e){setPassword(e.target.value);}}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-big\",onClick:function onClick(){setModalPage(\"import\");},children:\"Set password\"})]})]})});};var Generate=function Generate(_ref4){var modalPage=_ref4.modalPage,setModalPage=_ref4.setModalPage,password=_ref4.password,wallet=_ref4.wallet,setWallet=_ref4.setWallet;function walletGen(){return _walletGen.apply(this,arguments);}function _walletGen(){_walletGen=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var newWallet;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return ethers.Wallet.createRandom(32);case 2:newWallet=_context.sent;setWallet(newWallet);case 4:case\"end\":return _context.stop();}}},_callee);}));return _walletGen.apply(this,arguments);}return/*#__PURE__*/_jsx(\"div\",{className:\"modalBackground\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"modalHeader\",children:\"Generate mnemonic phrase\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"modalBody\",children:[wallet?/*#__PURE__*/_jsx(Card,{headerContent:\"Write this down and save your seed phrase!\",bodyContent:wallet.mnemonic.phrase}):\"\",/*#__PURE__*/_jsx(\"button\",{className:\"btn-big\",onClick:function onClick(){walletGen();},children:\"Generate\"})]})]})});};var Import=function Import(_ref5){var modalPage=_ref5.modalPage,setModalPage=_ref5.setModalPage,password=_ref5.password,mnemonic=_ref5.mnemonic,setMnemonic=_ref5.setMnemonic,wallet=_ref5.wallet,setWallet=_ref5.setWallet;function createWallet(){return _createWallet.apply(this,arguments);}function _createWallet(){_createWallet=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var HDNode,newWallet;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return ethers.utils.HDNode.fromMnemonic(mnemonic);case 2:HDNode=_context2.sent;_context2.next=5;return new ethers.Wallet(HDNode);case 5:newWallet=_context2.sent;setWallet(newWallet);case 7:case\"end\":return _context2.stop();}}},_callee2);}));return _createWallet.apply(this,arguments);}function encrypt(){return _encrypt.apply(this,arguments);}function _encrypt(){_encrypt=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(){var encrypted,parsed;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return wallet.encrypt(password);case 2:encrypted=_context3.sent;parsed=JSON.stringify(encrypted);window.localStorage.setItem(\"walletManager\",parsed);case 5:case\"end\":return _context3.stop();}}},_callee3);}));return _encrypt.apply(this,arguments);}return/*#__PURE__*/_jsx(\"div\",{className:\"modalBackground\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"modalHeader\",children:\"Import a Wallet\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"modalBody\",children:[\"Enter your mnemonic phrase here.\",wallet?/*#__PURE__*/_jsx(Card,{headerContent:\"Wallet imported!\",bodyContent:/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"h4\",{onClick:function onClick(){encrypt();},children:\"Your all done! Click here to encrypt your wallet!\"})})}):/*#__PURE__*/_jsx(_Fragment,{}),/*#__PURE__*/_jsx(\"input\",{className:\"modal-input\",onChange:function onChange(e){return setMnemonic(e.target.value);},placeholder:\"mnemonic phrase\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-big\",onClick:function onClick(){createWallet();},children:\"Import\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-big\",onClick:function onClick(){setModalPage(\"generate\");},children:\"Dont have a wallet? Generate one here!\"})]})]})});};return/*#__PURE__*/_jsxs(_Fragment,{children:[modalPage===\"onboard\"?/*#__PURE__*/_jsx(Onboard,{modalPage:modalPage,setModalPage:setModalPage}):/*#__PURE__*/_jsx(_Fragment,{}),modalPage===\"password\"?/*#__PURE__*/_jsx(SetPassword,{modalPage:modalPage,setModalPage:setModalPage,password:password,setPassword:setPassword}):/*#__PURE__*/_jsx(_Fragment,{}),modalPage===\"generate\"?/*#__PURE__*/_jsx(Generate,{modalPage:modalPage,setModalPage:setModalPage,password:password,wallet:wallet,setWallet:setWallet}):/*#__PURE__*/_jsx(_Fragment,{}),modalPage===\"import\"?/*#__PURE__*/_jsx(Import,{modalPage:modalPage,setModalPage:setModalPage,password:password,mnemonic:mnemonic,setMnemonic:setMnemonic,wallet:wallet,setWallet:setWallet}):/*#__PURE__*/_jsx(_Fragment,{})]});};export default OnboardingModal;","map":{"version":3,"names":["useState","ethers","Card","OnboardingModal","onboarded","setOnboarded","modalPage","setModalPage","password","setPassword","wallet","setWallet","mnemonic","setMnemonic","Onboard","SetPassword","e","target","value","Generate","walletGen","Wallet","createRandom","newWallet","phrase","Import","createWallet","utils","HDNode","fromMnemonic","encrypt","encrypted","parsed","JSON","stringify","window","localStorage","setItem"],"sources":["/home/dev/Documents/GitHub/ERC20-wallet/app/src/components/modals/OnboardingModal.js"],"sourcesContent":["import { useState } from \"react\"\nimport {ethers} from 'ethers'\nimport Card from '../Card'\n\n\n\nconst OnboardingModal = ({onboarded, setOnboarded}) => {\n\n    const [modalPage, setModalPage] = useState(\"onboard\")\n    const [password, setPassword] = useState(\"\")\n    const [wallet, setWallet] = useState(\"\")\n    const [mnemonic, setMnemonic] = useState(\"\")\n\n\n\n    const Onboard = ({modalPage, setModalPage}) => {\n\n\n\n        return (\n            <div className=\"modalBackground\">\n            <div className=\"modal\">\n                <h4 className=\"modalHeader\">Welcome to the super-awesome-powerful wallet manager!</h4>\n                <div className=\"modalBody\">\n                    First, set a password!\n                    <button className=\"btn-big\" onClick={()=>{setModalPage(\"password\")}}>Create password</button>\n                   \n                </div>\n    \n    \n            </div>\n            </div>\n            \n        )\n    }\n    const SetPassword = ({modalPage, setModalPage, password, setPassword}) => {\n    \n        return (\n            <div className=\"modalBackground\">\n            <div className=\"modal\">\n                <h4 className=\"modalHeader\">Create a password</h4>\n                <div className=\"modalBody\">\n                    <input className=\"modal-input\" type=\"text\" value={password} onChange={(e)=>{setPassword(e.target.value)}}/>\n                    <button className=\"btn-big\" onClick={()=>{setModalPage(\"import\")}}>Set password</button>\n                   \n                </div>\n    \n    \n            </div>\n            </div>\n            \n        )\n    }\n    const Generate = ({modalPage, setModalPage, password, wallet, setWallet}) => {\n    \n        async function walletGen() {\n            const newWallet = await ethers.Wallet.createRandom(32)\n            setWallet(newWallet)\n            \n        }\n    \n        return (\n            <div className=\"modalBackground\">\n            <div className=\"modal\">\n                <h4 className=\"modalHeader\">Generate mnemonic phrase</h4>\n                <div className=\"modalBody\">\n                    {wallet ? <Card headerContent={\"Write this down and save your seed phrase!\"} bodyContent={wallet.mnemonic.phrase}/> : \"\"}\n                   \n                    <button className=\"btn-big\" onClick={()=>{walletGen()}}>Generate</button>\n                   \n                </div>\n    \n    \n            </div>\n            </div>\n        )\n    }\n    const Import = ({modalPage, setModalPage, password, mnemonic, setMnemonic,wallet, setWallet}) => {\n    \n        \n        async function createWallet() {\n            const HDNode = await ethers.utils.HDNode.fromMnemonic(mnemonic)\n            const newWallet = await new ethers.Wallet(HDNode)\n            setWallet(newWallet)\n    \n        }\n        async function encrypt() {\n            \n               const encrypted = await wallet.encrypt(password)\n               const parsed = JSON.stringify(encrypted)\n               window.localStorage.setItem(\"walletManager\", parsed)\n            \n           \n    }\n    \n        return (\n            <div className=\"modalBackground\">\n            <div className=\"modal\">\n                <h4 className=\"modalHeader\">Import a Wallet</h4>\n                <div className=\"modalBody\">\n    \n                    Enter your mnemonic phrase here.\n    \n                    {wallet ? <Card headerContent={\"Wallet imported!\"} bodyContent={<><h4 onClick={()=>{encrypt()}}>Your all done! Click here to encrypt your wallet!</h4></>} /> : <></>}\n                    \n                        <input className=\"modal-input\" onChange={(e) => setMnemonic(e.target.value)} placeholder=\"mnemonic phrase\" />\n                    \n                   \n                    <button className=\"btn-big\" onClick={()=>{createWallet()}}>Import</button>\n                    <button className=\"btn-big\" onClick={()=>{setModalPage(\"generate\")}}>Dont have a wallet? Generate one here!</button>\n                </div>\n    \n    \n            </div>\n            </div>\n        )\n    }\n\n    return (<>   \n         {modalPage === \"onboard\" ? <Onboard modalPage={modalPage} setModalPage={setModalPage}/> : <></>}\n         {modalPage === \"password\" ? <SetPassword \n         modalPage={modalPage} \n         setModalPage={setModalPage} \n         password={password} \n         setPassword={setPassword}/> : <></>}\n         {modalPage === \"generate\" ? <Generate \n         modalPage={modalPage} \n         setModalPage={setModalPage}\n         password={password}\n         wallet={wallet}\n         setWallet={setWallet}/> : <></>}\n         {modalPage === \"import\" ? <Import \n         modalPage={modalPage} \n         setModalPage={setModalPage}\n         password={password}\n         mnemonic={mnemonic}\n         setMnemonic={setMnemonic}\n         wallet={wallet}\n         setWallet={setWallet}/> : <></>}\n        \n    </>\n\n    )\n\n}\n\n\nexport default OnboardingModal;"],"mappings":"mZAAA,OAASA,QAAT,KAAyB,OAAzB,CACA,OAAQC,MAAR,KAAqB,QAArB,CACA,MAAOC,KAAP,KAAiB,SAAjB,C,6IAIA,GAAMC,gBAAe,CAAG,QAAlBA,gBAAkB,MAA+B,IAA7BC,UAA6B,MAA7BA,SAA6B,CAAlBC,YAAkB,MAAlBA,YAAkB,CAEnD,cAAkCL,QAAQ,CAAC,SAAD,CAA1C,wCAAOM,SAAP,eAAkBC,YAAlB,eACA,eAAgCP,QAAQ,CAAC,EAAD,CAAxC,yCAAOQ,QAAP,eAAiBC,WAAjB,eACA,eAA4BT,QAAQ,CAAC,EAAD,CAApC,yCAAOU,MAAP,eAAeC,SAAf,eACA,eAAgCX,QAAQ,CAAC,EAAD,CAAxC,yCAAOY,QAAP,eAAiBC,WAAjB,eAIA,GAAMC,QAAO,CAAG,QAAVA,QAAU,OAA+B,IAA7BR,UAA6B,OAA7BA,SAA6B,CAAlBC,YAAkB,OAAlBA,YAAkB,CAI3C,mBACI,YAAK,SAAS,CAAC,iBAAf,uBACA,aAAK,SAAS,CAAC,OAAf,wBACI,WAAI,SAAS,CAAC,aAAd,mEADJ,cAEI,aAAK,SAAS,CAAC,WAAf,iDAEI,eAAQ,SAAS,CAAC,SAAlB,CAA4B,OAAO,CAAE,kBAAI,CAACA,YAAY,CAAC,UAAD,CAAZ,CAAyB,CAAnE,6BAFJ,GAFJ,GADA,EADJ,CAeH,CAnBD,CAoBA,GAAMQ,YAAW,CAAG,QAAdA,YAAc,OAAsD,IAApDT,UAAoD,OAApDA,SAAoD,CAAzCC,YAAyC,OAAzCA,YAAyC,CAA3BC,QAA2B,OAA3BA,QAA2B,CAAjBC,WAAiB,OAAjBA,WAAiB,CAEtE,mBACI,YAAK,SAAS,CAAC,iBAAf,uBACA,aAAK,SAAS,CAAC,OAAf,wBACI,WAAI,SAAS,CAAC,aAAd,+BADJ,cAEI,aAAK,SAAS,CAAC,WAAf,wBACI,cAAO,SAAS,CAAC,aAAjB,CAA+B,IAAI,CAAC,MAApC,CAA2C,KAAK,CAAED,QAAlD,CAA4D,QAAQ,CAAE,kBAACQ,CAAD,CAAK,CAACP,WAAW,CAACO,CAAC,CAACC,MAAF,CAASC,KAAV,CAAX,CAA4B,CAAxG,EADJ,cAEI,eAAQ,SAAS,CAAC,SAAlB,CAA4B,OAAO,CAAE,kBAAI,CAACX,YAAY,CAAC,QAAD,CAAZ,CAAuB,CAAjE,0BAFJ,GAFJ,GADA,EADJ,CAeH,CAjBD,CAkBA,GAAMY,SAAQ,CAAG,QAAXA,SAAW,OAA4D,IAA1Db,UAA0D,OAA1DA,SAA0D,CAA/CC,YAA+C,OAA/CA,YAA+C,CAAjCC,QAAiC,OAAjCA,QAAiC,CAAvBE,MAAuB,OAAvBA,MAAuB,CAAfC,SAAe,OAAfA,SAAe,SAE1DS,UAF0D,uIAEzE,yKAC4BnB,OAAM,CAACoB,MAAP,CAAcC,YAAd,CAA2B,EAA3B,CAD5B,QACUC,SADV,eAEIZ,SAAS,CAACY,SAAD,CAAT,CAFJ,sDAFyE,4CAQzE,mBACI,YAAK,SAAS,CAAC,iBAAf,uBACA,aAAK,SAAS,CAAC,OAAf,wBACI,WAAI,SAAS,CAAC,aAAd,sCADJ,cAEI,aAAK,SAAS,CAAC,WAAf,WACKb,MAAM,cAAG,KAAC,IAAD,EAAM,aAAa,CAAE,4CAArB,CAAmE,WAAW,CAAEA,MAAM,CAACE,QAAP,CAAgBY,MAAhG,EAAH,CAA+G,EAD1H,cAGI,eAAQ,SAAS,CAAC,SAAlB,CAA4B,OAAO,CAAE,kBAAI,CAACJ,SAAS,GAAG,CAAtD,sBAHJ,GAFJ,GADA,EADJ,CAeH,CAvBD,CAwBA,GAAMK,OAAM,CAAG,QAATA,OAAS,OAAkF,IAAhFnB,UAAgF,OAAhFA,SAAgF,CAArEC,YAAqE,OAArEA,YAAqE,CAAvDC,QAAuD,OAAvDA,QAAuD,CAA7CI,QAA6C,OAA7CA,QAA6C,CAAnCC,WAAmC,OAAnCA,WAAmC,CAAvBH,MAAuB,OAAvBA,MAAuB,CAAfC,SAAe,OAAfA,SAAe,SAG9Ee,aAH8E,gJAG7F,sLACyBzB,OAAM,CAAC0B,KAAP,CAAaC,MAAb,CAAoBC,YAApB,CAAiCjB,QAAjC,CADzB,QACUgB,MADV,uCAE4B,IAAI3B,OAAM,CAACoB,MAAX,CAAkBO,MAAlB,CAF5B,QAEUL,SAFV,gBAGIZ,SAAS,CAACY,SAAD,CAAT,CAHJ,wDAH6F,uDAS9EO,QAT8E,iIAS7F,sLAE+BpB,OAAM,CAACoB,OAAP,CAAetB,QAAf,CAF/B,QAEauB,SAFb,gBAGaC,MAHb,CAGsBC,IAAI,CAACC,SAAL,CAAeH,SAAf,CAHtB,CAIOI,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,eAA5B,CAA6CL,MAA7C,EAJP,wDAT6F,0CAkB7F,mBACI,YAAK,SAAS,CAAC,iBAAf,uBACA,aAAK,SAAS,CAAC,OAAf,wBACI,WAAI,SAAS,CAAC,aAAd,6BADJ,cAEI,aAAK,SAAS,CAAC,WAAf,8CAIKtB,MAAM,cAAG,KAAC,IAAD,EAAM,aAAa,CAAE,kBAArB,CAAyC,WAAW,cAAE,sCAAE,WAAI,OAAO,CAAE,kBAAI,CAACoB,OAAO,GAAG,CAA5B,+DAAF,EAAtD,EAAH,cAAyJ,kBAJpK,cAMQ,cAAO,SAAS,CAAC,aAAjB,CAA+B,QAAQ,CAAE,kBAACd,CAAD,QAAOH,YAAW,CAACG,CAAC,CAACC,MAAF,CAASC,KAAV,CAAlB,EAAzC,CAA6E,WAAW,CAAC,iBAAzF,EANR,cASI,eAAQ,SAAS,CAAC,SAAlB,CAA4B,OAAO,CAAE,kBAAI,CAACQ,YAAY,GAAG,CAAzD,oBATJ,cAUI,eAAQ,SAAS,CAAC,SAAlB,CAA4B,OAAO,CAAE,kBAAI,CAACnB,YAAY,CAAC,UAAD,CAAZ,CAAyB,CAAnE,oDAVJ,GAFJ,GADA,EADJ,CAqBH,CAvCD,CAyCA,mBAAQ,2BACFD,SAAS,GAAK,SAAd,cAA0B,KAAC,OAAD,EAAS,SAAS,CAAEA,SAApB,CAA+B,YAAY,CAAEC,YAA7C,EAA1B,cAAyF,kBADvF,CAEFD,SAAS,GAAK,UAAd,cAA2B,KAAC,WAAD,EAC5B,SAAS,CAAEA,SADiB,CAE5B,YAAY,CAAEC,YAFc,CAG5B,QAAQ,CAAEC,QAHkB,CAI5B,WAAW,CAAEC,WAJe,EAA3B,cAI6B,kBAN3B,CAOFH,SAAS,GAAK,UAAd,cAA2B,KAAC,QAAD,EAC5B,SAAS,CAAEA,SADiB,CAE5B,YAAY,CAAEC,YAFc,CAG5B,QAAQ,CAAEC,QAHkB,CAI5B,MAAM,CAAEE,MAJoB,CAK5B,SAAS,CAAEC,SALiB,EAA3B,cAKyB,kBAZvB,CAaFL,SAAS,GAAK,QAAd,cAAyB,KAAC,MAAD,EAC1B,SAAS,CAAEA,SADe,CAE1B,YAAY,CAAEC,YAFY,CAG1B,QAAQ,CAAEC,QAHgB,CAI1B,QAAQ,CAAEI,QAJgB,CAK1B,WAAW,CAAEC,WALa,CAM1B,MAAM,CAAEH,MANkB,CAO1B,SAAS,CAAEC,SAPe,EAAzB,cAOyB,kBApBvB,GAAR,CA0BH,CA1ID,CA6IA,cAAeR,gBAAf"},"metadata":{},"sourceType":"module"}